{% extends '::base.html.twig' %}

{% block pagetitle %}
    <h1>{% trans %}Welcome{% endtrans %} {{ app.user }}
        <small>{% trans %}Homepage{% endtrans %}</small>
    </h1>
{% endblock pagetitle %}

{% block breadcrumb %}
    <ol class="breadcrumb">
        <li class="active"><i class="fa fa-dashboard"></i> {% trans %}Dashboard{% endtrans %}</li>
    </ol>
{% endblock breadcrumb %}

{% block body -%}
    {% if app.user.userLocations|length == 0 %}
        <div class="row">
            <div class="col-sm-12">
                <div class="alert alert-danger alert-dismissable">
                    <h4 class="text-center">
                        <i class="fa fa-warning"></i> No locations!
                    </h4>
                    <p class="text-center">
                        You have not completed any locations for your profile! By completing the locations that are relevant to your statement you get 5x more chances to be voted positively!<br/>
                        <a href="{{ path('userlocation_new') }}" class="btn btn-danger"><i class="fa fa-globe"></i> Add Location</a>
                    </p>

                </div>
            </div>
        </div>
    {% endif %}
    {% if app.user.userStatements|length == 0 %}
        <div class="row">
            <div class="col-sm-12">
                <div class="alert alert-danger alert-dismissable">
                    <h4 class="text-center">
                        <i class="fa fa-warning"></i> No statements!
                    </h4>
                    <p class="text-center">
                        You have not added any statement for your profile! <br/>
                        <a href="{{ path('userstatement_new') }}" class="btn btn-danger"><i class="fa fa-file-o"></i> Add Statement</a>
                    </p>

                </div>
            </div>
        </div>
    {% endif %}

<dic class="row">
    <div class="col-sm-12">
        <div class="portlet portlet-green">
            <div class="portlet-heading">
                <div class="portlet-title">
                    <h4>
                        How it works
                    </h4>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="portlet-body">
                <p>
                    MeAKA works as a tool to realize the popularity of what you do among people around the world starting from locations related to you and spreading to around the world. You make statements, people vote if they know them!
                </p>
                <h5 class="text-orange">
                    Step 1
                </h5>
                <p>
                    Define locations related to you or even better related to the statement that you need to be voted
                </p>
                <h5 class="text-orange">
                    Step 2
                </h5>
                <p>
                    Write down your statement, the one that will be voted by people! You can write about a specific thematic field!
                </p>
                <h5 class="text-orange">
                    Step 3
                </h5>
                <p>
                    Wait for your statement to be voted and vote for other people's statements.
                </p>
            </div>
        </div>
    </div>
</dic>

<div class="row">
    <div class="col-sm-4">
        <div class="portlet portlet-blue">
            <div class="portlet-heading">
                <div class="portlet-title">
                    <h4>Statements</h4>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="portlet-body">
                <div class="table-responsive">
                    {% if userstatements|length > 0 %}
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>Statement</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for us in userstatements %}
                                <tr>
                                    <td>
                                        {{ us.statement }}
                                    </td>
                                    <td>
                                        <a href="{{ path('userstatement_show', { 'id': us.id }) }}" class="btn btn-info btn-sm"><i class="fa fa-eye"></i> show</a>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    {% else %}
                        <h4 class="text-center">No Statements?</h4>
                        <a href="{{ path('userstatement_new') }}" class="btn btn-block btn-success text-center">
                            <i class="fa fa-file-o"></i>
                            Create a statement!
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-4">
        <div class="portlet portlet-blue">
            <div class="portlet-heading">
                <div class="portlet-title">
                    <h4>Locations</h4>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="portlet-body">
                <div class="table-responsive">
                    {% if userlocations|length > 0 %}
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>Location</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for loc in userlocations %}
                                <tr {% if loc.current %}class="success"{% endif %}>
                                    <td >
                                        {% if loc.city %}
                                            {{ loc.city }},
                                        {% endif %}
                                        {% if loc.district %}
                                            {{ loc.district }},
                                        {% endif %}
                                        {% if loc.region %}
                                            {{ loc.region }},
                                        {% endif %}
                                        {% if loc.country %}
                                            {{ loc.country }}
                                        {% endif %}
                                    </td>
                                    <td>
                                        <a href="{{ path('userstatement_show', { 'id': loc.id }) }}" class="btn btn-info btn-sm"><i class="fa fa-eye"></i> show</a>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    {% else %}
                        <h4 class="text-center">No Locations?</h4>
                        <a href="{{ path('userlocation_new') }}" class="btn btn-block btn-success text-center">
                            <i class="fa fa-file-o"></i>
                            Create a location!
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>


    {% endblock %}
